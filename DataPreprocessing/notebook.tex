
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{Chapter 2 - Data Preprocessing}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \begin{figure}
\centering
\includegraphics{img/unc-charlotte-logo.gif}
\caption{title}
\end{figure}

    \section{What is preprocessing}\label{what-is-preprocessing}

In order to achieve useful datamining the data preprocessing is an
important step. Data preprocessing consists of: * Data cleaning * Data
transformation

The overriding objective is to \textbf{minimize GIGO} (\emph{Garbage in
Garbage out})

    \subsection{Data Cleaning}\label{data-cleaning}

\begin{itemize}
\tightlist
\item
  Loading data to Pandas
\item
  Understanding structure of data
\item
  Identifying Continuous and Categorical data
\item
  Handling Missing data
\item
  Methods to identify outliers
\item
  Measuring centrality of data
\item
  Measuring spread of data
\end{itemize}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}38}]:} \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
         \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
         \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pylab} \PY{k}{as} \PY{n+nn}{plt}
         \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
         \PY{k+kn}{import} \PY{n+nn}{random}
         \PY{k+kn}{import} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{stats} \PY{k}{as} \PY{n+nn}{stats}
         \PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline 
         \PY{n}{sns}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \subsubsection{Loading data to pandas}\label{loading-data-to-pandas}

Pandas can load data from various sources such sql db, txt file, csv
file, excel etc. In following example cars.txt is loaded into pandas.

 Can you identify different sources from which data can be loaded into
Pandas? 

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{n}{cars} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{data/cars.txt}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}


    \subsubsection{Understanding structure of
data}\label{understanding-structure-of-data}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Looking at top rows of data
\item
  Looking at columns in data and their types
\item
  Describing / Summarizing data
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{c+c1}{\PYZsh{} 1. Top rows can be seen by calling dataframe.head(), we can specify rows to display as parameter}
        \PY{c+c1}{\PYZsh{} Ex. cars.head(2) will display top 2 rows in cars dataframe.}
        \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} Can you print top 10 rows of cars?}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}3}]:}     mpg   cylinders   cubicinches   hp   weightlbs   time-to-60   year  \textbackslash{}
        0  14.0           8           350  165        4209           12   1972   
        1  31.9           4            89   71        1925           14   1980   
        2  17.0           8           302  140        3449           11   1971   
        3  15.0           8           400  150        3761           10   1971   
        4  30.5           4            98   63        2051           17   1978   
        
              brand  
        0       US.  
        1   Europe.  
        2       US.  
        3       US.  
        4       US.  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{c+c1}{\PYZsh{}  2. Structure of dataframe can looked by calling dataframe.info() function.}
        \PY{c+c1}{\PYZsh{}  N entries \PYZhy{} N rows in dataframe}
        \PY{c+c1}{\PYZsh{}  N columns \PYZhy{} N columns in dataframe }
        \PY{c+c1}{\PYZsh{}  Together they show dimension of data frame.}
        \PY{c+c1}{\PYZsh{}  Data columns, total count, default, and dtype of each column is also shown for ex}
        
        \PY{n}{cars}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} Shows}
        \PY{c+c1}{\PYZsh{} 261 entries = 261 rows}
        \PY{c+c1}{\PYZsh{} 8 columns = 8 columns}
        \PY{c+c1}{\PYZsh{} dimension = 261 * 8}
        \PY{c+c1}{\PYZsh{} Following are column names, total count, default, and dtype of each column.}
        \PY{c+c1}{\PYZsh{}  mpg            261 non\PYZhy{}null float64}
        \PY{c+c1}{\PYZsh{}  cylinders      261 non\PYZhy{}null int64}
        \PY{c+c1}{\PYZsh{}  cubicinches    261 non\PYZhy{}null int64}
        \PY{c+c1}{\PYZsh{}  hp             261 non\PYZhy{}null int64}
        \PY{c+c1}{\PYZsh{}  weightlbs      261 non\PYZhy{}null int64}
        \PY{c+c1}{\PYZsh{}  time\PYZhy{}to\PYZhy{}60     261 non\PYZhy{}null int64}
        \PY{c+c1}{\PYZsh{}  year           261 non\PYZhy{}null int64}
        \PY{c+c1}{\PYZsh{}  brand          261 non\PYZhy{}null object}
        
        \PY{c+c1}{\PYZsh{}Note \PYZhy{} brand is object while others are either int or float. Brand is \PYZdq{}Probably\PYZdq{} categorical}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 261 entries, 0 to 260
Data columns (total 8 columns):
mpg             261 non-null float64
 cylinders      261 non-null int64
 cubicinches    261 non-null int64
 hp             261 non-null int64
 weightlbs      261 non-null int64
 time-to-60     261 non-null int64
 year           261 non-null int64
 brand          261 non-null object
dtypes: float64(1), int64(6), object(1)
memory usage: 16.4+ KB

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{c+c1}{\PYZsh{}Looking at column names closely}
        \PY{n}{cars}\PY{o}{.}\PY{n}{columns}
        \PY{c+c1}{\PYZsh{}Did you see the space? This could hinder operations on cars dataframe.}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}5}]:} Index(['mpg', ' cylinders', ' cubicinches', ' hp', ' weightlbs', ' time-to-60',
               ' year', ' brand'],
              dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{c+c1}{\PYZsh{}Let us fix the space issues in column names}
        \PY{n}{cars}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{c+c1}{\PYZsh{}Remove the space}
        \PY{n}{cars}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}6}]:} Index(['mpg', 'cylinders', 'cubicinches', 'hp', 'weightlbs', 'time-to-60',
               'year', 'brand'],
              dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{c+c1}{\PYZsh{} description or summary}
        \PY{c+c1}{\PYZsh{} calling dataframe.describe() returns count, mean, std, min, max and other quantiles for continuous variables}
        \PY{n}{cars}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:}               mpg   cylinders  cubicinches          hp    weightlbs  \textbackslash{}
        count  261.000000  261.000000   261.000000  261.000000   261.000000   
        mean    23.144828    5.590038   201.103448  106.360153  3005.490421   
        std      7.823570    1.733310   108.879683   40.499959   852.645596   
        min     10.000000    3.000000    68.000000   46.000000  1613.000000   
        25\%     16.900000    4.000000   101.000000   75.000000  2246.000000   
        50\%     22.000000    6.000000   156.000000   95.000000  2835.000000   
        75\%     28.800000    8.000000   302.000000  138.000000  3664.000000   
        max     46.600000    8.000000   455.000000  230.000000  4997.000000   
        
               time-to-60         year  
        count  261.000000   261.000000  
        mean    15.547893  1976.819923  
        std      2.910625     3.637696  
        min      8.000000  1971.000000  
        25\%     14.000000  1974.000000  
        50\%     16.000000  1977.000000  
        75\%     17.000000  1980.000000  
        max     25.000000  1983.000000  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{c+c1}{\PYZsh{} What about categorical variables}
        \PY{c+c1}{\PYZsh{} Despite brands being category, it is not loaded as categorical variable.}
        \PY{c+c1}{\PYZsh{} Note the type is object not category}
        \PY{n}{cars}\PY{o}{.}\PY{n}{brand}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}8}]:} 0           US.
        1       Europe.
        2           US.
        3           US.
        4           US.
        5           US.
        6           US.
        7           US.
        8       Europe.
        9        Japan.
        10       Japan.
        11      Europe.
        12          US.
        13          US.
        14          US.
        15          US.
        16       Japan.
        17          US.
        18       Japan.
        19      Europe.
        20       Japan.
        21      Europe.
        22          US.
        23          US.
        24       Japan.
        25       Japan.
        26       Japan.
        27          US.
        28          US.
        29          US.
                 {\ldots}   
        231         US.
        232         US.
        233         US.
        234     Europe.
        235     Europe.
        236         US.
        237         US.
        238         US.
        239         US.
        240         US.
        241         US.
        242         US.
        243     Europe.
        244         US.
        245         US.
        246         US.
        247     Europe.
        248      Japan.
        249         US.
        250         US.
        251     Europe.
        252     Europe.
        253         US.
        254         US.
        255      Japan.
        256         US.
        257      Japan.
        258         US.
        259         US.
        260         US.
        Name: brand, Length: 261, dtype: object
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{c+c1}{\PYZsh{} Change Brand astype to Category}
        \PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{categories} \PY{c+c1}{\PYZsh{}Print now shows 3 categories \PYZhy{} [Europe., Japan., US.]}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}9}]:} Index([' Europe.', ' Japan.', ' US.'], dtype='object')
\end{Verbatim}
            
    Looking above at the categories , it appears that Brands has leading
spaces and dot at the end

Example: " Europe."

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{c+c1}{\PYZsh{} Let us remove the leading space and dot from Brand!}
         \PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x} \PY{p}{:} \PY{n}{x}\PY{o}{.}\PY{n}{lstrip}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{categories}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Index(['Europe', 'Japan', 'US'], dtype='object')

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{c+c1}{\PYZsh{} Crosstab is a neat way to create table of 2 variables (in other languages it is also called table)}
         \PY{c+c1}{\PYZsh{} Here we can see  number of cars manufactured for each Brand (Europe, US, JAPAN) for given year.}
         \PY{c+c1}{\PYZsh{} Ex. in 1977 \PYZhy{} 7 Europe, 3 Japan and 16 US brand cars were manufactured.}
         \PY{n}{pd}\PY{o}{.}\PY{n}{crosstab}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{year}\PY{p}{,} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}11}]:} brand  Europe  Japan  US
         year                    
         1971        3      2  18
         1972        3      2  10
         1973        4      3   9
         1974        6      4  25
         1975        4      2   6
         1976        5      3  14
         1977        7      3  16
         1978        2      5  11
         1979        4      5  12
         1980        4      2  15
         1981        5      9   4
         1982        0      8  10
         1983        1      3  12
\end{Verbatim}
            
    \subsubsection{Missing Values:}\label{missing-values}

\subparagraph{ 1. Replace with a constant
}\label{replace-with-a-constant}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{c+c1}{\PYZsh{}Adding missing values}
         \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{l+m+mi}{3}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cylinders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cylinders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{NAN}
         \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{:}\PY{l+m+mi}{7}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{11}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{NAN}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}12}]:}     mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year   brand
         0  14.0        8.0          350  165.0       4209          12  1972      US
         1  31.9        NaN           89   71.0       1925          14  1980  Europe
         2  17.0        NaN          302  140.0       3449          11  1971      US
         3  15.0        NaN          400  150.0       3761          10  1971      US
         4  30.5        4.0           98    NaN       2051          17  1978      US
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{c+c1}{\PYZsh{}Find NAN}
         \PY{n}{cars}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}13}]:} mpg            0
         cylinders      3
         cubicinches    0
         hp             5
         weightlbs      0
         time-to-60     0
         year           0
         brand          0
         dtype: int64
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{c+c1}{\PYZsh{}Replacing with constant}
         \PY{c+c1}{\PYZsh{} The analyst and business can decide what is the best constant for each cell.}
         \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{l+m+mi}{3}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cylinders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cylinders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{0}
         \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{:}\PY{l+m+mi}{7}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{11}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{l+m+mi}{20}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}14}]:}     mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year   brand
         0  14.0        8.0          350  165.0       4209          12  1972      US
         1  31.9        0.0           89   71.0       1925          14  1980  Europe
         2  17.0        0.0          302  140.0       3449          11  1971      US
         3  15.0        0.0          400  150.0       3761          10  1971      US
         4  30.5        4.0           98   20.0       2051          17  1978      US
\end{Verbatim}
            
    \subparagraph{ 2. Replace with a mean or
median}\label{replace-with-a-mean-or-median}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{c+c1}{\PYZsh{}Adding missing values}
         \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{l+m+mi}{3}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cylinders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cylinders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{NAN}
         \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{:}\PY{l+m+mi}{7}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{11}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hp}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{NAN}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}15}]:}     mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year   brand
         0  14.0        8.0          350  165.0       4209          12  1972      US
         1  31.9        NaN           89   71.0       1925          14  1980  Europe
         2  17.0        NaN          302  140.0       3449          11  1971      US
         3  15.0        NaN          400  150.0       3761          10  1971      US
         4  30.5        4.0           98    NaN       2051          17  1978      US
         5  23.0        8.0          350    NaN       3900          17  1980      US
         6  13.0        8.0          351    NaN       4363          13  1974      US
         7  14.0        8.0          440    NaN       4312           9  1971      US
         8  25.4        5.0          183   77.0       3530          20  1980  Europe
         9  37.7        4.0           89   62.0       2050          17  1982   Japan
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{n}{mean\PYZus{}cyl} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{cylinders}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Mean of cylinders ignoring NAN: }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{mean\PYZus{}cyl}\PY{p}{)}
         \PY{n}{cars}\PY{o}{.}\PY{n}{cylinders}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{n}{mean\PYZus{}cyl}\PY{p}{,} \PY{n}{inplace}\PY{o}{=} \PY{k+kc}{True}\PY{p}{)}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Mean of cylinders ignoring NAN:  5.577519379844961

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}16}]:}     mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year   brand
         0  14.0   8.000000          350  165.0       4209          12  1972      US
         1  31.9   5.577519           89   71.0       1925          14  1980  Europe
         2  17.0   5.577519          302  140.0       3449          11  1971      US
         3  15.0   5.577519          400  150.0       3761          10  1971      US
         4  30.5   4.000000           98    NaN       2051          17  1978      US
         5  23.0   8.000000          350    NaN       3900          17  1980      US
         6  13.0   8.000000          351    NaN       4363          13  1974      US
         7  14.0   8.000000          440    NaN       4312           9  1971      US
         8  25.4   5.000000          183   77.0       3530          20  1980  Europe
         9  37.7   4.000000           89   62.0       2050          17  1982   Japan
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{median\PYZus{}hp} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{hp}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Median of hp ignoring NAN: }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{median\PYZus{}hp}\PY{p}{)}
         
         \PY{n}{cars}\PY{o}{.}\PY{n}{hp}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{n}{median\PYZus{}hp}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Median of hp ignoring NAN:  95.0

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}17}]:}     mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year   brand
         0  14.0   8.000000          350  165.0       4209          12  1972      US
         1  31.9   5.577519           89   71.0       1925          14  1980  Europe
         2  17.0   5.577519          302  140.0       3449          11  1971      US
         3  15.0   5.577519          400  150.0       3761          10  1971      US
         4  30.5   4.000000           98   95.0       2051          17  1978      US
         5  23.0   8.000000          350   95.0       3900          17  1980      US
         6  13.0   8.000000          351   95.0       4363          13  1974      US
         7  14.0   8.000000          440   95.0       4312           9  1971      US
         8  25.4   5.000000          183   77.0       3530          20  1980  Europe
         9  37.7   4.000000           89   62.0       2050          17  1982   Japan
\end{Verbatim}
            
    \paragraph{ 3. Replace with a mode - Useful for categorical
variables}\label{replace-with-a-mode---useful-for-categorical-variables}

We need to look at the categories and determine whether any of these
'actually' denote missing?

"missing" or "not collected" or "na" or "nan could be either missing or
were actually intended to be one of the categories.

For the sake of example we will assume "missing" represents missing
value and we need to impute it.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{c+c1}{\PYZsh{} Simulate missing value scenrio}
         
         \PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{add\PYZus{}categories}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{:}\PY{l+m+mi}{200}\PY{p}{]} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing}\PY{l+s+s2}{\PYZdq{}}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}18}]:}     mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year    brand
         0  14.0   8.000000          350  165.0       4209          12  1972       US
         1  31.9   5.577519           89   71.0       1925          14  1980   Europe
         2  17.0   5.577519          302  140.0       3449          11  1971       US
         3  15.0   5.577519          400  150.0       3761          10  1971  Missing
         4  30.5   4.000000           98   95.0       2051          17  1978  Missing
         5  23.0   8.000000          350   95.0       3900          17  1980  Missing
         6  13.0   8.000000          351   95.0       4363          13  1974  Missing
         7  14.0   8.000000          440   95.0       4312           9  1971  Missing
         8  25.4   5.000000          183   77.0       3530          20  1980  Missing
         9  37.7   4.000000           89   62.0       2050          17  1982  Missing
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{c+c1}{\PYZsh{} Replace missing with mode}
         \PY{c+c1}{\PYZsh{} Calculate mode for categories except Missing}
         \PY{n}{mode\PYZus{}brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{p}{[}\PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{!=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mode}\PY{p}{(}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Mode for brand exclusing Missing is:}\PY{l+s+s2}{\PYZdq{}} \PY{p}{,} \PY{n}{mode\PYZus{}brand}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
         
         \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{p}{[}\PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{mode\PYZus{}brand}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
         \PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{remove\PYZus{}unused\PYZus{}categories}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} Remove categories which are no longer in user.}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Mode for brand exclusing Missing is: US

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}19}]:}     mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year   brand
         0  14.0   8.000000          350  165.0       4209          12  1972      US
         1  31.9   5.577519           89   71.0       1925          14  1980  Europe
         2  17.0   5.577519          302  140.0       3449          11  1971      US
         3  15.0   5.577519          400  150.0       3761          10  1971      US
         4  30.5   4.000000           98   95.0       2051          17  1978      US
\end{Verbatim}
            
    \paragraph{ 4. Randomly replace missing
value}\label{randomly-replace-missing-value}

In above examples we are giving preference to mean or median or mode to
replace the missing value. This could lead to bias in dataset. The
better approach is to randomly chose the value to replace missing value.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{cars}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cylinders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{NAN}
         
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
         
         \PY{c+c1}{\PYZsh{}This is another neat trick, we can create our function which takes an argument}
         \PY{k}{def} \PY{n+nf}{replace\PYZus{}with\PYZus{}random}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{:}        
             \PY{k}{try}\PY{p}{:}        
                 \PY{k}{if} \PY{n}{pd}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{:}            
                     \PY{n}{rand\PYZus{}num} \PY{o}{=} \PY{n}{random}\PY{o}{.}\PY{n}{choice}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{cylinders}\PY{p}{[}\PY{n}{cars}\PY{o}{.}\PY{n}{cylinders}\PY{o}{.}\PY{n}{notna}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{p}{)}                        
                     \PY{k}{return} \PY{n}{rand\PYZus{}num}            
                 \PY{k}{else}\PY{p}{:}            
                     \PY{k}{return} \PY{n}{x}        
             \PY{k}{except} \PY{n+ne}{Exception} \PY{k}{as} \PY{n}{e}\PY{p}{:}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Exception}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{x}\PY{p}{)}
                 \PY{k}{return} \PY{n}{x}
         
         \PY{c+c1}{\PYZsh{} Apply can apply a function iterating each value of a Pandas or of a Series it is applied to }
         \PY{c+c1}{\PYZsh{} note: cars.cylinders or cars[\PYZdq{}cylinders\PYZdq{}] means the same. Both would slice the column cylinders out of Cars dataset.}
         \PY{c+c1}{\PYZsh{} Therefore, calling apply on cars.cylinders or cars[\PYZdq{}cylinders\PYZdq{}] will apply the given function on each value in cylinder column.}
         \PY{c+c1}{\PYZsh{} Inplace \PYZhy{} True would apply function and make changes within dataframe or series.}
         
         \PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cylinders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{cylinders}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{replace\PYZus{}with\PYZus{}random}\PY{p}{)}
         
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{After replacing missing values with random choice}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]

After replacing missing values with random choice


    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}20}]:}     mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year   brand
         0  14.0        8.0          350  165.0       4209          12  1972      US
         1  31.9        4.0           89   71.0       1925          14  1980  Europe
         2  17.0        8.0          302  140.0       3449          11  1971      US
         3  15.0        6.0          400  150.0       3761          10  1971      US
         4  30.5        3.0           98   95.0       2051          17  1978      US
         5  23.0        8.0          350   95.0       3900          17  1980      US
         6  13.0        8.0          351   95.0       4363          13  1974      US
         7  14.0        8.0          440   95.0       4312           9  1971      US
         8  25.4        5.0          183   77.0       3530          20  1980      US
         9  37.7        4.0           89   62.0       2050          17  1982      US
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}356}]:} \PY{c+c1}{\PYZsh{}Setup \PYZhy{} Add misisng category to brand}
          \PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{remove\PYZus{}unused\PYZus{}categories}\PY{p}{(}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{brand}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{categories}\PY{p}{)}
          \PY{k}{try}\PY{p}{:}
              \PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{add\PYZus{}categories}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{k}{except} \PY{n+ne}{Exception} \PY{k}{as} \PY{n}{e}\PY{p}{:}
              \PY{n+nb}{print} \PY{p}{(}\PY{n}{e}\PY{p}{)}
              
          \PY{n+nb}{print}\PY{p}{(}\PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{brand}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{categories}\PY{p}{)}
          \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{:}\PY{l+m+mi}{40}\PY{p}{]} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing}\PY{l+s+s2}{\PYZdq{}}
          
          \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Index(['Europe', 'Japan', 'US', 'Missing'], dtype='object')
new categories must not include old categories: \{'Missing'\}
Index(['Europe', 'Japan', 'US', 'Missing'], dtype='object')

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}356}]:}      mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year    brand
          0   14.0        8.0          350  165.0       4209          12  1972       US
          1   31.9        8.0           89   71.0       1925          14  1980   Europe
          2   17.0        4.0          302  140.0       3449          11  1971       US
          3   15.0        4.0          400  150.0       3761          10  1971  Missing
          4   30.5        4.0           98   20.0       2051          17  1978  Missing
          5   23.0        8.0          350   20.0       3900          17  1980  Missing
          6   13.0        8.0          351   20.0       4363          13  1974  Missing
          7   14.0        8.0          440   20.0       4312           9  1971  Missing
          8   25.4        5.0          183   77.0       3530          20  1980  Missing
          9   37.7        4.0           89   62.0       2050          17  1982  Missing
          10  34.0        4.0          108   70.0       2245          17  1983  Missing
          11  34.3        4.0           97   20.0       2188          16  1981  Missing
          12  16.0        8.0          302  140.0       4141          14  1975  Missing
          13  11.0        8.0          350  180.0       3664          11  1974  Missing
          14  19.1        6.0          225   90.0       3381          19  1981  Missing
          15  16.9        8.0          350  155.0       4360          15  1980  Missing
          16  31.8        4.0           85   65.0       2020          19  1980  Missing
          17  16.0        8.0          304  150.0       3433          12  1971  Missing
          18  24.0        4.0          113   95.0       2278          16  1973  Missing
          19  24.0        4.0          107   90.0       2430          15  1971  Missing
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{c+c1}{\PYZsh{} With Categorical variables we may want to replace one category with randomly chose another category}
         
         \PY{c+c1}{\PYZsh{} get all the available categories}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{)}
         \PY{n}{categories} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{cat}\PY{o}{.}\PY{n}{categories}
         
         \PY{c+c1}{\PYZsh{} Convert the categorical variable to object so that we can iterate through each of them.}
         \PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{object}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         
         \PY{k}{def} \PY{n+nf}{replace\PYZus{}cat\PYZus{}with\PYZus{}random}\PY{p}{(}\PY{n}{cat}\PY{p}{)}\PY{p}{:}        
             \PY{k}{try}\PY{p}{:}                        
                 \PY{k}{if} \PY{n}{cat} \PY{o}{==} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Missing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
                     \PY{n}{rand\PYZus{}cat} \PY{o}{=} \PY{n}{random}\PY{o}{.}\PY{n}{choice}\PY{p}{(}\PY{n}{categories}\PY{p}{[}\PY{n}{categories} \PY{o}{!=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Missing}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}                                    
                     \PY{k}{return} \PY{n}{rand\PYZus{}cat}
                 \PY{k}{else}\PY{p}{:}
                     \PY{k}{return} \PY{n}{cat}
             
             \PY{k}{except} \PY{n+ne}{Exception} \PY{k}{as} \PY{n}{e}\PY{p}{:}
                 \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Exception}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{e}\PY{p}{)}
                 \PY{k}{return} \PY{n}{x}
         
         \PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{replace\PYZus{}cat\PYZus{}with\PYZus{}random}\PY{p}{)}
         \PY{n}{cars}\PY{o}{.}\PY{n}{brand} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{brand}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{After replacing category: }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{ with random choice}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Missing}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
         \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]

After replacing category: Missing with random choice


    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}21}]:}      mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year   brand
         0   14.0        8.0          350  165.0       4209          12  1972      US
         1   31.9        4.0           89   71.0       1925          14  1980  Europe
         2   17.0        8.0          302  140.0       3449          11  1971      US
         3   15.0        6.0          400  150.0       3761          10  1971      US
         4   30.5        3.0           98   95.0       2051          17  1978      US
         5   23.0        8.0          350   95.0       3900          17  1980      US
         6   13.0        8.0          351   95.0       4363          13  1974      US
         7   14.0        8.0          440   95.0       4312           9  1971      US
         8   25.4        5.0          183   77.0       3530          20  1980      US
         9   37.7        4.0           89   62.0       2050          17  1982      US
         10  34.0        4.0          108   70.0       2245          17  1983      US
         11  34.3        4.0           97   95.0       2188          16  1981      US
         12  16.0        8.0          302  140.0       4141          14  1975      US
         13  11.0        8.0          350  180.0       3664          11  1974      US
         14  19.1        6.0          225   90.0       3381          19  1981      US
         15  16.9        8.0          350  155.0       4360          15  1980      US
         16  31.8        4.0           85   65.0       2020          19  1980      US
         17  16.0        8.0          304  150.0       3433          12  1971      US
         18  24.0        4.0          113   95.0       2278          16  1973      US
         19  24.0        4.0          107   90.0       2430          15  1971      US
\end{Verbatim}
            
    \subsection{Data Normalization}\label{data-normalization}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n}{cars}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}22}]:}     mpg  cylinders  cubicinches     hp  weightlbs  time-to-60  year   brand
         0  14.0        8.0          350  165.0       4209          12  1972      US
         1  31.9        4.0           89   71.0       1925          14  1980  Europe
         2  17.0        8.0          302  140.0       3449          11  1971      US
         3  15.0        6.0          400  150.0       3761          10  1971      US
         4  30.5        3.0           98   95.0       2051          17  1978      US
\end{Verbatim}
            
    Looking at top 5 entries in cars dataframe we can see that numerical
variables mpg, cylinders, cubicinches, hp, weightlbs, time-to-60 and
year has different scales.

cylinders goes from 0 to 6, while weighlbs goes from 1925 to 4209.

When such data is provided to algorithms often they tend to give
prefrence to numbers with greater numerical value i.e. weightlbs might
dominate variables such as cylinders or mpg. Thus rendering model
inaccurate.

\subparagraph{Is there a solution?}\label{is-there-a-solution}

Yes by scaling all variables onto one measuring scale or by transforming
all numeric variables to one scale we can achieve better accuracy.

\textbf{1. Min Max Normalization}

\textbf{2. Z-score Transformation}

\textbf{3. Decimal scaling}

    \paragraph{ 1. Min Max Normalization}\label{min-max-normalization}

\[X_{min-max} = \frac{X - X_{min}}{X_{max} - X_{min}}\]

\begin{itemize}
\tightlist
\item
  Min Max normalizes data between 0 and 1
\end{itemize}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{c+c1}{\PYZsh{} Let us calculate mimax for weightlbs using formulla}
         
         \PY{n}{weightlbs\PYZus{}min} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{min}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{p}{)}
         \PY{n}{weightlbs\PYZus{}max}  \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{p}{)}
         
         \PY{n}{weightlbs\PYZus{}normalized} \PY{o}{=} \PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs} \PY{o}{\PYZhy{}} \PY{n}{weightlbs\PYZus{}min}\PY{p}{)} \PY{o}{/} \PY{p}{(}\PY{n}{weightlbs\PYZus{}max} \PY{o}{\PYZhy{}} \PY{n}{weightlbs\PYZus{}min}\PY{p}{)}
         \PY{n}{weightlbs\PYZus{}normalized} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{weightlbs\PYZus{}normalized}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{minmax normalized using formulla}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n}{weightlbs\PYZus{}normalized}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]

minmax normalized using formulla

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}23}]:}    weightlbs
         0   0.767139
         1   0.092199
         2   0.542553
         3   0.634752
         4   0.129433
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{c+c1}{\PYZsh{} Python provides MinMaxScaler for Min Max transformation}
         
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{MinMaxScaler}
         \PY{n}{scaler} \PY{o}{=} \PY{n}{MinMaxScaler}\PY{p}{(}\PY{p}{)}
         \PY{n}{cars\PYZus{}minmax} \PY{o}{=} \PY{n}{scaler}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)} \PY{c+c1}{\PYZsh{} Brand is category can\PYZsq{}t be transformed}
         \PY{n}{cars\PYZus{}minmax} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{cars\PYZus{}minmax}\PY{p}{)}
         \PY{n}{cars\PYZus{}minmax}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{columns}
         \PY{n}{cars\PYZus{}minmax}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{brand}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{brand}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
         \PY{n}{cars\PYZus{}minmax}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}24}]:}         mpg  cylinders  cubicinches        hp  weightlbs  time-to-60  \textbackslash{}
         0  0.109290        1.0     0.728682  0.646739   0.767139    0.235294   
         1  0.598361        0.2     0.054264  0.135870   0.092199    0.352941   
         2  0.191257        1.0     0.604651  0.510870   0.542553    0.176471   
         3  0.136612        0.6     0.857881  0.565217   0.634752    0.117647   
         4  0.560109        0.0     0.077519  0.266304   0.129433    0.529412   
         
                year   brand  
         0  0.083333      US  
         1  0.750000  Europe  
         2  0.000000      US  
         3  0.000000      US  
         4  0.583333      US  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{c+c1}{\PYZsh{} Let us calculate mimax for weightlbs using formulla}
         
         \PY{n}{weightlbs\PYZus{}min} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{min}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{p}{)}
         \PY{n}{weightlbs\PYZus{}max}  \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{p}{)}
         
         \PY{n}{weightlbs\PYZus{}normalized} \PY{o}{=} \PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs} \PY{o}{\PYZhy{}} \PY{n}{weightlbs\PYZus{}min}\PY{p}{)} \PY{o}{/} \PY{p}{(}\PY{n}{weightlbs\PYZus{}max} \PY{o}{\PYZhy{}} \PY{n}{weightlbs\PYZus{}min}\PY{p}{)}
         \PY{n}{weightlbs\PYZus{}normalized} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{weightlbs\PYZus{}normalized}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{minmax normalized using formulla}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{weightlbs\PYZus{}normalized}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}\PY{p}{)}
         
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{minmax normalized using python preprocessing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{cars\PYZus{}minmax}\PY{o}{.}\PY{n}{weightlbs}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]

minmax normalized using formulla
   weightlbs
0   0.767139
1   0.092199
2   0.542553
3   0.634752
4   0.129433

minmax normalized using python preprocessing
0    0.767139
1    0.092199
2    0.542553
3    0.634752
4    0.129433
Name: weightlbs, dtype: float64

    \end{Verbatim}

    \paragraph{ 2. Z-score transformation}\label{z-score-transformation}

\[X_{z-score} = \frac{X - X_{mean}}{X_{std}}\]

\begin{itemize}
\tightlist
\item
  z-score normalizes data between -3 and +3
\end{itemize}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}26}]:} \PY{c+c1}{\PYZsh{} Let us calculate z\PYZhy{}score using formulla}
         
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{p}{)}
         \PY{n}{std}  \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanstd}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{p}{)}
         
         \PY{n}{weightlbs\PYZus{}zscore} \PY{o}{=} \PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs} \PY{o}{\PYZhy{}} \PY{n}{mean}\PY{p}{)} \PY{o}{/} \PY{n}{std}
         \PY{n}{weightlbs\PYZus{}zscore} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{weightlbs\PYZus{}zscore}\PY{p}{)}
         \PY{n}{weightlbs\PYZus{}zscore}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}26}]:}    weightlbs
         0   1.414212
         1  -1.269656
         2   0.521156
         3   0.887779
         4  -1.121596
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{c+c1}{\PYZsh{}Zscore Standardization using Python Preprocessing library}
         \PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k}{import} \PY{n}{StandardScaler}
         
         \PY{n}{scaler} \PY{o}{=} \PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{}By default \PYZhy{} with\PYZus{}mean = True and with\PYZus{}std = True}
         \PY{n}{cars\PYZus{}zscore} \PY{o}{=} \PY{n}{scaler}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
         \PY{n}{cars\PYZus{}zscore} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{cars\PYZus{}zscore}\PY{p}{)}
         \PY{n}{cars\PYZus{}zscore}\PY{o}{.}\PY{n}{columns} \PY{o}{=}  \PY{n}{cars}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{.}\PY{n}{columns}
         \PY{n}{cars\PYZus{}zscore}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{brand}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{brand}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
         \PY{n}{cars\PYZus{}zscore}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}27}]:}         mpg  cylinders  cubicinches        hp  weightlbs  time-to-60  \textbackslash{}
         0 -1.171127   1.401038     1.370160  1.496278   1.414212   -1.221287   
         1  1.121226  -0.913335    -1.031587 -0.876835  -1.269656   -0.532829   
         2 -0.786934   1.401038     0.928460  0.865131   0.521156   -1.565516   
         3 -1.043063   0.243851     1.830265  1.117590   0.887779   -1.909745   
         4  0.941936  -1.491928    -0.948768 -0.270934  -1.121596    0.499857   
         
                year   brand  
         0 -1.327539      US  
         1  0.875880  Europe  
         2 -1.602966      US  
         3 -1.602966      US  
         4  0.325025      US  
\end{Verbatim}
            
    \section{Data Transformation - Acheiving
Normality}\label{data-transformation---acheiving-normality}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  To achieve normality first we need to achieve symmetry
\item
  To achieve symmetry we need to reduce skewness.
\end{enumerate}

    \subsubsection{Skewness}\label{skewness}

\[Skewness = \frac{3(mean-median)}{standard\;deviation}\]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  mean \textgreater{} median =\textgreater{} +ve Skewness, right skewed
\item
  mean \textless{} median =\textgreater{} -ve Skewness, left skewed
\item
  mean = median =\textgreater{} 0 Skewness, data is normally distributed
  - Good for statistics
\end{enumerate}

\textbf{median is not affected by outliers, mean is affected by
outliers.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{c+c1}{\PYZsh{} Let us calculate skewness for cars[\PYZdq{}weightlbs\PYZdq{}] using formulla}
         
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{std} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanstd}\PY{p}{(}\PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         
         \PY{n}{skewness} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{3} \PY{o}{*} \PY{p}{(}\PY{n}{mean}\PY{o}{\PYZhy{}}\PY{n}{median}\PY{p}{)}\PY{p}{)} \PY{o}{/} \PY{n}{std}
         \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Mean:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{mean}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ Median:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{median}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ Std:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{std}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ Skewness:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{skewness}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Mean: 3005.4904214559388  Median: 2835.0  Std: 851.0106077517205  Skewness: 0.6010163207237439

    \end{Verbatim}

    \paragraph{We can see in following
graph}\label{we-can-see-in-following-graph}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Density plot is right skewed
\item
  Mean \textgreater{} Median
\item
  Standardization / Scaling doesn't affect skewness
\end{enumerate}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}61}]:} \PY{c+c1}{\PYZsh{} Let us look at it graphically}
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{n\PYZus{}bins} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{cars}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{n}{bins}\PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n}{n\PYZus{}bins}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlim}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{1000}\PY{p}{,} \PY{l+m+mi}{6000}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{mean}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{median}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{green}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{median}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}61}]:} <matplotlib.legend.Legend at 0x262d4e01978>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_46_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{MinMax and Z-score standardization are one of the scaling
techniques. They doesn't affect the skewness}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}64}]:} \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars\PYZus{}minmax}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars\PYZus{}minmax}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
         \PY{n}{n\PYZus{}bins} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{cars\PYZus{}minmax}\PY{o}{.}\PY{n}{weightlbs}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{cars\PYZus{}minmax}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{n}{bins}\PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n}{n\PYZus{}bins}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlim}\PY{p}{(}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{l+m+mf}{1.2}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{mean}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{median}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{green}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{median}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
         
         
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars\PYZus{}zscore}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars\PYZus{}zscore}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}
         \PY{n}{n\PYZus{}bins} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{cars\PYZus{}zscore}\PY{o}{.}\PY{n}{weightlbs}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{cars\PYZus{}zscore}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{weightlbs}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{n}{bins}\PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n}{n\PYZus{}bins}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlim}\PY{p}{(}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mf}{2.3}\PY{p}{,} \PY{o}{+}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{mean}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{median}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{green}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{median}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}64}]:} <matplotlib.legend.Legend at 0x262d5143198>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_48_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsection{There are 3 ways to reduce
skewness}\label{there-are-3-ways-to-reduce-skewness}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Log transformation
\item
  Square root transformation
\item
  Inverted square root transformation
\end{enumerate}

    \subsubsection{1. Log transformation}\label{log-transformation}

We can see that skewness has reduced

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{cars\PYZus{}log} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{log}\PY{p}{)}
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars\PYZus{}log}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars\PYZus{}log}\PY{p}{)}
         \PY{n}{std} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanstd}\PY{p}{(}\PY{n}{cars\PYZus{}log}\PY{p}{)}
         \PY{n}{skewness} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{3}\PY{o}{*}\PY{p}{(}\PY{n}{mean}\PY{o}{\PYZhy{}}\PY{n}{median}\PY{p}{)}\PY{p}{)} \PY{o}{/} \PY{n}{std}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{skewness}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
0.19595894456285476

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}60}]:} \PY{c+c1}{\PYZsh{} Let us look at it graphically}
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars\PYZus{}log}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars\PYZus{}log}\PY{p}{)}
         
         \PY{n}{n\PYZus{}bins} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{cars\PYZus{}log}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{cars\PYZus{}log}\PY{p}{,} \PY{n}{bins}\PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n}{n\PYZus{}bins}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlim}\PY{p}{(}\PY{p}{(}\PY{l+m+mf}{7.25}\PY{p}{,} \PY{l+m+mf}{8.75}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{mean}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{median}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{green}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{median}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}60}]:} <matplotlib.legend.Legend at 0x262d4d655f8>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_52_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsubsection{2. Square root
transformation}\label{square-root-transformation}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}33}]:} \PY{n}{cars\PYZus{}sqrt} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{)}
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars\PYZus{}sqrt}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars\PYZus{}sqrt}\PY{p}{)}
         \PY{n}{std} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanstd}\PY{p}{(}\PY{n}{cars\PYZus{}sqrt}\PY{p}{)}
         \PY{n}{skewness} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{3}\PY{o}{*}\PY{p}{(}\PY{n}{mean}\PY{o}{\PYZhy{}}\PY{n}{median}\PY{p}{)}\PY{p}{)} \PY{o}{/} \PY{n}{std}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{skewness}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
0.40359860791178837

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}57}]:} \PY{c+c1}{\PYZsh{} Let us look at it graphically}
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars\PYZus{}sqrt}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars\PYZus{}sqrt}\PY{p}{)}
         
         \PY{n}{n\PYZus{}bins} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{cars\PYZus{}sqrt}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{cars\PYZus{}sqrt}\PY{p}{,} \PY{n}{bins}\PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n}{n\PYZus{}bins}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlim}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{30}\PY{p}{,} \PY{l+m+mi}{80}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{mean}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{median}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{green}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{median}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}57}]:} <matplotlib.legend.Legend at 0x262d4b93ba8>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_55_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsubsection{3. Inverted Square root}\label{inverted-square-root}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}35}]:} \PY{n}{cars\PYZus{}invsqrt} \PY{o}{=} \PY{n}{cars}\PY{o}{.}\PY{n}{weightlbs}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{np}\PY{o}{.}\PY{n}{reciprocal}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{)}\PY{p}{)}
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars\PYZus{}invsqrt}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars\PYZus{}invsqrt}\PY{p}{)}
         \PY{n}{std} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanstd}\PY{p}{(}\PY{n}{cars\PYZus{}invsqrt}\PY{p}{)}
         \PY{n}{skewness} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{3}\PY{o}{*}\PY{p}{(}\PY{n}{mean}\PY{o}{\PYZhy{}}\PY{n}{median}\PY{p}{)}\PY{p}{)} \PY{o}{/} \PY{n}{std}
         \PY{n+nb}{print}\PY{p}{(}\PY{n}{skewness}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
0.015463227861404498

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}58}]:} \PY{c+c1}{\PYZsh{} Let us look at it graphically}
         \PY{n}{mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmean}\PY{p}{(}\PY{n}{cars\PYZus{}invsqrt}\PY{p}{)}
         \PY{n}{median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nanmedian}\PY{p}{(}\PY{n}{cars\PYZus{}invsqrt}\PY{p}{)}
         
         \PY{n}{n\PYZus{}bins} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sqrt}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{cars\PYZus{}invsqrt}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{distplot}\PY{p}{(}\PY{n}{cars\PYZus{}invsqrt}\PY{p}{,} \PY{n}{bins}\PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n}{n\PYZus{}bins}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlim}\PY{p}{(}\PY{p}{(}\PY{l+m+mf}{0.010}\PY{p}{,} \PY{l+m+mf}{0.028}\PY{p}{)}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{mean}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{axvline}\PY{p}{(}\PY{n}{median}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{green}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{median}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{linestyle} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}58}]:} <matplotlib.legend.Legend at 0x262d4c08048>
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_58_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    1 For Weightlbs we were able to reduce skewness using inverted root
square transformation. This is not always the case, we shall apply each
of these transformations to see which one reduces skewnes.

2 Reducing skewness achieves symmetry but as probability plot below
shows, it doesn't lead to normalization.

\emph{ Side Note } 1. In some languages (ex. in R) Following plots are
also called Q-Q plot or Quantile Quantile plot - It is essentially a
plot between quantile distribution of given data and quantile
distribution of normal distributed theoretical dataset 2. In some
languages, theoretical quantiles are on Y-axis (ex. in R), so if you
refer other sources, always look at what is shown on X-axis and Y-axis.
The information from these graphs essentially remains same.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:} \PY{n}{stats}\PY{o}{.}\PY{n}{probplot}\PY{p}{(}\PY{n}{cars\PYZus{}invsqrt}\PY{p}{,} \PY{n}{dist}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{norm}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{plot} \PY{o}{=} \PY{n}{plt}\PY{p}{)}\PY{p}{;}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_60_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
